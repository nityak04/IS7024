@page
@model TheModernIlluminati.Pages.SearchCountryModel
@{
    ViewData["Title"] = "SearchCountry";
    List<TheModernIlluminati.Models.Laureate>
      filteredLaureates = (List<TheModernIlluminati.Models.Laureate>
      )ViewData["filteredLaureate"];
}


<div class="container-fluid">
    <h1 style="font-family: fantasy; text-align:center; font-size: 50px; color: #45A29E">Search Nobel Laureates by Country</h1>
</div>
<hr class="bg-white" />

<form action="" method="POST" style="margin-top: 20px;">
    <div class="form-group">
        <label style="font-size:20px;" class="control-label" for="CountrySearch"><strong>Enter Country</strong></label>
        <input type="string" class="form-control" name="CountrySearch" id="CountrySearch" style="width:50%" />
    </div>
    <div class="form-group">
        <input type="submit" value="Search for Laureates" class="btn btn-primary" />
    </div>
</form>

@if (Model.searchFinished == true)
{
    <table class="table table-striped table-light">
        <thead class="thead-dark">
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Born City</th>
                <th>Date of Birth</th>
                <th>Birth Country</th>
                <th>Gender</th>
                <th>Year of Winning</th>
                <th>Category</th>
                <th>Share</th>

            </tr>
        </thead>
        <tbody>

            @foreach (var laureate in filteredLaureates)
            {
                int i = 0;
                <tr>
                    <td>@laureate.Firstname</td>
                    <td>@laureate.Surname</td>
                    <td>@laureate.BornCity</td>
                    <td>@laureate.Born</td>
                    <td>@laureate.BornCountry</td>
                    <td>@laureate.Gender</td>

                    @foreach (var prizes in laureate.Prizes)
                    {
                        @if (i == 0)
                        {

                            <td>@prizes.Year</td>
                            <td>@prizes.Category</td>
                            <td>@prizes.Share</td>
                            i = i + 1;
                        }

                    }
                </tr>
            }


        </tbody>
    </table>

}

